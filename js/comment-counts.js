class s extends HTMLElement{}function l(){var e;return((e=document.querySelector("link[rel='canonical']"))==null?void 0:e.getAttribute("href"))||location.href.split("#")[0].split("?")[0]}window.hyvorTalkCommentCounts=function(){function e(o,c=null){const m={};document.querySelectorAll("hyvor-talk-comment-count").forEach(t=>{const n=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);m[n]={websiteId:t.getAttribute("website-id")||o["website-id"],identifier:t.getAttribute("page-id")||l(),mode:t.getAttribute("mode")||o.mode||"text",language:t.getAttribute("language")||o.language||null},t.setAttribute("temporary-id",n)});const u=o.instance||"https://talk.hyvor.com";fetch(u+"/api/widgets/comment-counts",{method:"POST",body:JSON.stringify(m)}).then(t=>t.json()).then(t=>{for(const n in t){let r=t[n];const i=document.querySelector(`hyvor-talk-comment-count[temporary-id="${n}"]`);i&&(c&&(r=c(r,i)),i.innerHTML=r)}})}return{load:e}}();customElements.get("hyvor-talk-comment-count")===void 0&&customElements.define("hyvor-talk-comment-count",s);
